<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lexicon - ServiceVision Arcade</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #121213;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            color: #fff;
        }

        .header {
            width: 100%;
            max-width: 500px;
            padding: 15px 20px;
            border-bottom: 1px solid #3a3a3c;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .title {
            font-size: 32px;
            font-weight: bold;
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        .game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            max-width: 500px;
            width: 100%;
        }

        .board {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-bottom: 20px;
        }

        .row {
            display: flex;
            gap: 5px;
        }

        .tile {
            width: 62px;
            height: 62px;
            border: 2px solid #3a3a3c;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 32px;
            font-weight: bold;
            text-transform: uppercase;
            transition: transform 0.1s;
        }

        .tile.filled {
            border-color: #565758;
            animation: pop 0.1s;
        }

        .tile.reveal {
            animation: flip 0.5s ease forwards;
        }

        .tile.correct {
            background: #538d4e;
            border-color: #538d4e;
        }

        .tile.present {
            background: #b59f3b;
            border-color: #b59f3b;
        }

        .tile.absent {
            background: #3a3a3c;
            border-color: #3a3a3c;
        }

        @keyframes pop {
            50% { transform: scale(1.1); }
        }

        @keyframes flip {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(90deg); }
            100% { transform: rotateX(0); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .keyboard {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
            max-width: 500px;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            gap: 6px;
        }

        .key {
            min-width: 43px;
            height: 58px;
            background: #818384;
            border: none;
            border-radius: 4px;
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            text-transform: uppercase;
            transition: background 0.1s;
        }

        .key:hover {
            opacity: 0.8;
        }

        .key.wide {
            min-width: 65px;
            font-size: 12px;
        }

        .key.correct {
            background: #538d4e;
        }

        .key.present {
            background: #b59f3b;
        }

        .key.absent {
            background: #3a3a3c;
        }

        .message {
            position: fixed;
            top: 80px;
            background: #fff;
            color: #121213;
            padding: 12px 20px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 14px;
            transform: translateY(-20px);
            opacity: 0;
            transition: all 0.2s;
            z-index: 100;
        }

        .message.show {
            transform: translateY(0);
            opacity: 1;
        }

        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }

        .overlay.active {
            display: flex;
        }

        .modal {
            background: #121213;
            border: 1px solid #3a3a3c;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            max-width: 400px;
        }

        .modal h2 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .modal .stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .modal .stat {
            text-align: center;
        }

        .modal .stat-value {
            font-size: 36px;
            font-weight: bold;
        }

        .modal .stat-label {
            font-size: 12px;
            color: #818384;
        }

        .modal .word-reveal {
            font-size: 18px;
            color: #538d4e;
            margin: 15px 0;
            letter-spacing: 4px;
        }

        .btn {
            background: #538d4e;
            border: none;
            color: #fff;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 15px;
            text-transform: uppercase;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .hint {
            color: #565758;
            font-size: 12px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">Lexicon</div>
    </div>

    <div class="message" id="message"></div>

    <div class="game-container">
        <div class="board" id="board"></div>

        <div class="keyboard" id="keyboard"></div>

        <div class="hint">Guess the 5-letter tech word in 6 tries</div>
    </div>

    <div class="overlay" id="overlay">
        <div class="modal">
            <h2 id="modalTitle">You Win!</h2>
            <div class="word-reveal">The word was: <span id="revealWord"></span></div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="statPlayed">0</div>
                    <div class="stat-label">Played</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="statWon">0</div>
                    <div class="stat-label">Won</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="statStreak">0</div>
                    <div class="stat-label">Streak</div>
                </div>
            </div>
            <button class="btn" onclick="newGame()">Play Again</button>
        </div>
    </div>

    <script>
        // Tech-themed 5-letter words (different from Wordle's word list)
        const WORDS = [
            'CLOUD', 'STACK', 'REACT', 'SWIFT', 'FLASK',
            'MONGO', 'REDIS', 'NGINX', 'LINUX', 'BASH',
            'QUERY', 'PIXEL', 'DEBUG', 'PARSE', 'CACHE',
            'ASYNC', 'FETCH', 'ROUTE', 'STATE', 'PROPS',
            'HOOKS', 'CLASS', 'ARRAY', 'LOGIC', 'BYTES',
            'NODES', 'GRAPH', 'LINKS', 'PORTS', 'HOSTS',
            'CYBER', 'CRYPT', 'PROXY', 'SHELL', 'SCOPE',
            'LAYER', 'FRAME', 'BLOCK', 'CHAIN', 'TOKEN',
            'CLICK', 'MOUSE', 'INPUT', 'FIELD', 'FORMS',
            'TABLE', 'CHART', 'PANEL', 'MODAL', 'ALERT',
            'AGILE', 'SCRUM', 'SPRINT', 'KANBAN', 'DEVOPS',
            'SOLID', 'CLEAN', 'TESTS', 'MOCKS', 'STUBS'
        ];

        const VALID_WORDS = new Set(WORDS.map(w => w.toUpperCase()));
        // Add common English 5-letter words for validation
        const EXTRA_VALID = ['ABOUT', 'ABOVE', 'ABUSE', 'ACTOR', 'ACUTE', 'ADMIT', 'ADOPT', 'ADULT', 'AFTER', 'AGAIN', 'AGENT', 'AGREE', 'AHEAD', 'ALARM', 'ALBUM', 'ALIEN', 'ALIGN', 'ALIKE', 'ALIVE', 'ALLOW', 'ALONE', 'ALONG', 'ALTER', 'AMONG', 'ANGER', 'ANGLE', 'ANGRY', 'APART', 'APPLE', 'APPLY', 'ARENA', 'ARGUE', 'ARISE', 'ARMOR', 'ARRAY', 'ASIDE', 'ASSET', 'AVOID', 'AWARD', 'AWARE', 'AWFUL'];
        EXTRA_VALID.forEach(w => VALID_WORDS.add(w));

        const ROWS = 6;
        const COLS = 5;

        let targetWord = '';
        let currentRow = 0;
        let currentCol = 0;
        let gameOver = false;
        let board = [];
        let keyStates = {};
        let stats = { played: 0, won: 0, streak: 0 };

        const keyboard = [
            ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'],
            ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'],
            ['ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', 'DEL']
        ];

        function init() {
            loadStats();
            createBoard();
            createKeyboard();
            newGame();

            document.addEventListener('keydown', handleKeyDown);
        }

        function loadStats() {
            const saved = localStorage.getItem('lexicon-stats');
            if (saved) {
                stats = JSON.parse(saved);
            }
        }

        function saveStats() {
            localStorage.setItem('lexicon-stats', JSON.stringify(stats));
        }

        function createBoard() {
            const boardEl = document.getElementById('board');
            boardEl.innerHTML = '';

            for (let r = 0; r < ROWS; r++) {
                const row = document.createElement('div');
                row.className = 'row';
                board[r] = [];

                for (let c = 0; c < COLS; c++) {
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.id = `tile-${r}-${c}`;
                    row.appendChild(tile);
                    board[r][c] = '';
                }

                boardEl.appendChild(row);
            }
        }

        function createKeyboard() {
            const keyboardEl = document.getElementById('keyboard');
            keyboardEl.innerHTML = '';

            keyboard.forEach(row => {
                const rowEl = document.createElement('div');
                rowEl.className = 'keyboard-row';

                row.forEach(key => {
                    const keyEl = document.createElement('button');
                    keyEl.className = 'key' + (key.length > 1 ? ' wide' : '');
                    keyEl.textContent = key === 'DEL' ? 'âŒ«' : key;
                    keyEl.id = `key-${key}`;
                    keyEl.onclick = () => handleKey(key);
                    rowEl.appendChild(keyEl);
                });

                keyboardEl.appendChild(rowEl);
            });
        }

        function newGame() {
            targetWord = WORDS[Math.floor(Math.random() * WORDS.length)].toUpperCase();
            currentRow = 0;
            currentCol = 0;
            gameOver = false;
            keyStates = {};

            // Reset board
            for (let r = 0; r < ROWS; r++) {
                for (let c = 0; c < COLS; c++) {
                    const tile = document.getElementById(`tile-${r}-${c}`);
                    tile.textContent = '';
                    tile.className = 'tile';
                    board[r][c] = '';
                }
            }

            // Reset keyboard
            document.querySelectorAll('.key').forEach(key => {
                key.className = key.classList.contains('wide') ? 'key wide' : 'key';
            });

            document.getElementById('overlay').classList.remove('active');
        }

        function handleKeyDown(e) {
            if (gameOver) return;

            if (e.key === 'Enter') {
                handleKey('ENTER');
            } else if (e.key === 'Backspace') {
                handleKey('DEL');
            } else if (/^[a-zA-Z]$/.test(e.key)) {
                handleKey(e.key.toUpperCase());
            }
        }

        function handleKey(key) {
            if (gameOver) return;

            if (key === 'ENTER') {
                submitGuess();
            } else if (key === 'DEL') {
                deleteLetter();
            } else if (currentCol < COLS) {
                addLetter(key);
            }
        }

        function addLetter(letter) {
            if (currentCol >= COLS) return;

            board[currentRow][currentCol] = letter;
            const tile = document.getElementById(`tile-${currentRow}-${currentCol}`);
            tile.textContent = letter;
            tile.classList.add('filled');
            currentCol++;
        }

        function deleteLetter() {
            if (currentCol <= 0) return;

            currentCol--;
            board[currentRow][currentCol] = '';
            const tile = document.getElementById(`tile-${currentRow}-${currentCol}`);
            tile.textContent = '';
            tile.classList.remove('filled');
        }

        function submitGuess() {
            if (currentCol !== COLS) {
                showMessage('Not enough letters');
                shakeRow();
                return;
            }

            const guess = board[currentRow].join('');

            // For this game, accept any 5 letters (no strict dictionary)
            // This makes it more fun and accessible

            revealRow(guess);
        }

        function revealRow(guess) {
            const tiles = [];
            const results = [];
            const targetLetters = targetWord.split('');
            const guessLetters = guess.split('');

            // First pass: find correct positions
            for (let i = 0; i < COLS; i++) {
                if (guessLetters[i] === targetLetters[i]) {
                    results[i] = 'correct';
                    targetLetters[i] = null;
                    guessLetters[i] = null;
                }
            }

            // Second pass: find present letters
            for (let i = 0; i < COLS; i++) {
                if (guessLetters[i] === null) continue;

                const idx = targetLetters.indexOf(guessLetters[i]);
                if (idx !== -1) {
                    results[i] = 'present';
                    targetLetters[idx] = null;
                } else {
                    results[i] = 'absent';
                }
            }

            // Animate reveal
            for (let i = 0; i < COLS; i++) {
                const tile = document.getElementById(`tile-${currentRow}-${i}`);

                setTimeout(() => {
                    tile.classList.add('reveal', results[i]);

                    // Update keyboard
                    const letter = board[currentRow][i];
                    const keyEl = document.getElementById(`key-${letter}`);
                    if (keyEl) {
                        const currentState = keyStates[letter];
                        if (results[i] === 'correct' || (results[i] === 'present' && currentState !== 'correct') || (!currentState)) {
                            keyStates[letter] = results[i];
                            keyEl.classList.remove('correct', 'present', 'absent');
                            keyEl.classList.add(results[i]);
                        }
                    }
                }, i * 300);
            }

            // Check win/lose after animation
            setTimeout(() => {
                if (guess === targetWord) {
                    win();
                } else if (currentRow === ROWS - 1) {
                    lose();
                } else {
                    currentRow++;
                    currentCol = 0;
                }
            }, COLS * 300 + 500);
        }

        function win() {
            gameOver = true;
            stats.played++;
            stats.won++;
            stats.streak++;
            saveStats();

            const messages = ['Genius!', 'Magnificent!', 'Impressive!', 'Splendid!', 'Great!', 'Phew!'];
            showMessage(messages[currentRow] || 'You got it!');

            setTimeout(() => {
                showModal('Victory!');
            }, 1500);
        }

        function lose() {
            gameOver = true;
            stats.played++;
            stats.streak = 0;
            saveStats();

            showMessage(targetWord);

            setTimeout(() => {
                showModal('Better luck next time');
            }, 1500);
        }

        function showModal(title) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('revealWord').textContent = targetWord;
            document.getElementById('statPlayed').textContent = stats.played;
            document.getElementById('statWon').textContent = stats.won;
            document.getElementById('statStreak').textContent = stats.streak;
            document.getElementById('overlay').classList.add('active');
        }

        function showMessage(text) {
            const msg = document.getElementById('message');
            msg.textContent = text;
            msg.classList.add('show');

            setTimeout(() => {
                msg.classList.remove('show');
            }, 1500);
        }

        function shakeRow() {
            const row = document.querySelector(`#board .row:nth-child(${currentRow + 1})`);
            row.style.animation = 'shake 0.5s';
            setTimeout(() => {
                row.style.animation = '';
            }, 500);
        }

        init();
    </script>
</body>
</html>
